## Application for Interacting with the Collection

### Описание

Это клиент-серверное приложение на Java 17 для управления коллекцией объектов. Проект состоит из двух модулей:

* **Сервер**: обрабатывает команды клиента, управляет коллекцией, сохраняет её в файл или БД.
* **Клиент**: графический интерфейс на JavaFX, обменивается командами и данными с сервером по UDP в неблокирующем режиме.

Исходная консольная версия доступна по ссылке: [https://github.com/ripidipi/console-application-lab](https://github.com/ripidipi/console-application-lab)

---

### Основная функциональность

#### Поддерживаемые команды

| Команда                           | Описание                                                               |
| --------------------------------- | ---------------------------------------------------------------------- |
| `help`                            | Показать справку по доступным командам.                                |
| `info`                            | Информация о коллекции: тип, дата инициализации, количество элементов. |
| `show`                            | Вывести все элементы коллекции.                                        |
| `add {element}`                   | Добавить новый элемент в коллекцию.                                    |
| `update id {element}`             | Обновить элемент с указанным `id`.                                     |
| `remove_by_id id`                 | Удалить элемент из коллекции по `id`.                                  |
| `clear`                           | Очистить коллекцию.                                                    |
| `save`                            | Сохранить коллекцию (в файл или БД).                                   |
| `execute_script file_name`        | Выполнить команды из скрипта.                                          |
| `exit`                            | Завершить программу (без сохранения).                                  |
| `add_if_max {element}`            | Добавить элемент, если он максимальный.                                |
| `remove_greater {element}`        | Удалить все элементы, превышающие заданный.                            |
| `remove_lower {element}`          | Удалить все элементы, меньшие заданного.                               |
| `remove_any_by_group_admin value` | Удалить один элемент по совпадению поля `groupAdmin`.                  |
| `group_counting_by_id`            | Сгруппировать элементы по `id` и вывести число в каждой группе.        |
| `count_by_group_admin value`      | Вывести количество элементов с заданным `groupAdmin`.                  |

---

### Сервер

* Java NIO (DatagramChannel) в неблокирующем режиме.
* Обработка команд и управление коллекцией в памяти и в PostgreSQL.
* JDBC, sequence для генерации `id`.
* Логирование операций.
* Многопоточность: Fixed thread pool, синхронизация через `ReentrantLock`.

---

### Клиент (JavaFX GUI)

* Окно авторизации и регистрации.
* Отображение текущего пользователя.
* Таблица объектов коллекции:

  * Колонки — поля объектов.
  * Сортировка и фильтрация через Stream API.
* Визуализация на Canvas с анимацией:

  * Использование координат и размеров объектов.
  * Цветовая дифференциация по пользователям.
  * Клик на объект — показ подробной информации.
  * Автообновление при изменениях на сервере.
* Редактирование и удаление объектов из таблицы или области визуализации.

---

### Локализация

* Поддержка локалей: русский, эстонский, латышский, испанский (Мексика).
* Форматирование чисел, дат и времени согласно локали.
* Смена языка без перезапуска.
* Ресурсы хранятся в `.properties`.

---

### Хранение данных

* **Файловый режим**: сериализация Java-объектов.
* **Режим PostgreSQL**:

  * Хранение коллекции и пользователей в базе.
  * SHA-256 для хеширования паролей.
  * Авторизация обязательна для модификаций; чтение — всем.

---

### Архитектура

#### Сервер

1. Приём запросов (DatagramChannel)
2. Десериализация и чтение команд
3. Обработка команд (Stream API)
4. Работа с коллекцией/БД
5. Сериализация и отправка ответов
6. Логирование

#### Клиент

1. UI на JavaFX: окна, таблица, Canvas
2. Сервис сети (DatagramSocket)
3. Локализация и форматирование
4. Валидация вводимых данных

---

### Используемые технологии

* Java 17
* JavaFX
* Java NIO
* JDBC / PostgreSQL
* Stream API, лямбды
* SHA-256
* Многопоточность (ExecutorService, ReentrantLock)
